<section class="projects">
  <div class="container">
    <div class="projects__header">
      <h1 class="projects__title">My Projects</h1>
      <p class="projects__subtitle">A showcase of my recent work and side projects</p>
    </div>

    <div class="projects__filter">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="angular">Angular</button>
      <button class="filter-btn" data-filter="react">React</button>
      <button class="filter-btn" data-filter="javascript">JavaScript</button>
    </div>

    <!-- Loading state -->
    <div *ngIf="loading" class="loading-container">
      <div class="loading-spinner"></div>
      <p>Loading projects...</p>
    </div>

    <!-- Projects grid -->
    <div class="projects__grid" *ngIf="!loading">
      <div 
        *ngFor="let project of filteredProjects" 
        class="project-card" 
        [attr.data-category]="getProjectCategory(project.technologies)"
      >
        <div class="project-card__image">
          <div class="image-placeholder" *ngIf="!project.imageUrl">
            <svg width="100%" height="200" viewBox="0 0 400 200" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="400" height="200" fill="#f0f0f0"/>
              <circle cx="200" cy="100" r="60" [attr.fill]="getTechColor(project.technologies[0])"/>
              <text x="200" y="110" text-anchor="middle" fill="white" font-size="20" font-weight="bold">
                {{ project.technologies[0] | slice:0:6 }}
              </text>
            </svg>
          </div>
          <img *ngIf="project.imageUrl" [src]="project.imageUrl" [alt]="project.title" class="project-image">
          <div class="project-card__overlay">
            <a *ngIf="project.liveUrl" [href]="project.liveUrl" class="project-link" target="_blank">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H16C17.1046 20 18 19.1046 18 18V14M14 4H20M20 4V10M20 4L10 14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
            <a *ngIf="project.githubUrl" [href]="project.githubUrl" class="project-link" target="_blank">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 19C-1 13 3.5 6 9 6C14.5 6 19 13 9 19Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 10C10.1046 10 11 9.10457 11 8C11 6.89543 10.1046 6 9 6C7.89543 6 7 6.89543 7 8C7 9.10457 7.89543 10 9 10Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        </div>
        <div class="project-card__content">
          <h3 class="project-card__title">{{ project.title }}</h3>
          <p class="project-card__description">{{ project.description }}</p>
          <div class="project-card__tech">
            <span *ngFor="let tech of project.technologies" class="tech-tag">{{ tech }}</span>
          </div>
        </div>
      </div>

      <!-- Empty state -->
      <div *ngIf="filteredProjects.length === 0" class="empty-state">
        <h3>No projects found</h3>
        <p>No projects match the current filter. Try selecting a different category.</p>
      </div>
    </div>
  </div>
</section>
